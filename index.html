<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Post Search</title>
</head>
<body>
<label for="postIdInput">Enter Post ID (1-100): </label>
<input type="number" id="postIdInput" min="1" max="100">
<button onclick="searchPost()">Search Post</button>

<div id="postContainer"></div>
<button id="commentsButton" style="display: none;" onclick="getComments()">Get Comments</button>

<script>
    function fetchPostById(postId) {
        return new Promise((resolve, reject) => {
            fetch(`https://jsonplaceholder.typicode.com/posts/${postId}`)
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! Status: ${response.status}`);
                    }
                    return response.json();
                })
                .then(data => resolve(data))
                .catch(error => reject(error));
        });
    }

    function fetchCommentsByPostId(postId) {
        return new Promise((resolve, reject) => {
            fetch(`https://jsonplaceholder.typicode.com/posts/${postId}/comments`)
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! Status: ${response.status}`);
                    }
                    return response.json();
                })
                .then(data => resolve(data))
                .catch(error => reject(error));
        });
    }

    function searchPost() {
        const postIdInput = document.getElementById('postIdInput');
        const postContainer = document.getElementById('postContainer');
        const commentsButton = document.getElementById('commentsButton');

        const postId = parseInt(postIdInput.value);

        if (isNaN(postId) || postId < 1 || postId > 100) {
            alert('Please enter a valid Post ID between 1 and 100.');
            return;
        }

        fetchPostById(postId)
            .then(post => {
                postContainer.innerHTML = `
            <h2>Post #${post.id}</h2>
            <h3>${post.title}</h3>
            <p>${post.body}</p>
          `;
                commentsButton.style.display = 'block';
            })
            .catch(error => alert(`Error fetching post: ${error.message}`));
    }

    function getComments() {
        const postIdInput = document.getElementById('postIdInput');
        const postContainer = document.getElementById('postContainer');

        const postId = parseInt(postIdInput.value);

        fetchCommentsByPostId(postId)
            .then(comments => {
                let commentsHtml = '<h3>Comments:</h3>';
                comments.forEach(comment => {
                    commentsHtml += `
              <div>
                <strong>${comment.name}</strong>
                <p>${comment.body}</p>
              </div>
            `;
                });
                postContainer.innerHTML += commentsHtml;
            })
            .catch(error => alert(`Error fetching comments: ${error.message}`));
    }
</script>
</body>
</html>
